<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§äººäº‘ç›˜ - ç™»å½•</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
        #login-box { max-width: 300px; margin: 0 auto; padding: 20px; border: 1px solid #ddd; border-radius: 5px; }
        input { width: 100%; padding: 10px; margin: 8px 0; box-sizing: border-box; }
        button { background: #0366d6; color: white; border: none; padding: 10px 15px; cursor: pointer; }
        #file-list { display: none; margin-top: 20px; text-align: left; }
        .error { color: red; }
    </style>
</head>
<body>
    <!-- ç™»å½•æ¡† -->
    <div id="login-box">
        <h2>ğŸ”’ ç™»å½•ç§äººäº‘ç›˜</h2>
        <input type="text" id="username" placeholder="ç”¨æˆ·å" value="root">
        <input type="password" id="password" placeholder="å¯†ç ">
        <button onclick="login()">ç™»å½•</button>
        <p id="error" class="error"></p>
    </div>

    <!-- æ–‡ä»¶åˆ—è¡¨ï¼ˆç™»å½•åæ˜¾ç¤ºï¼‰ -->
    <div id="file-list">
        <h2>ğŸ“‚ æ–‡ä»¶åˆ—è¡¨</h2>
        <ul id="files"></ul>
    </div>

    <script>
        // ç¡¬ç¼–ç çš„ç”¨æˆ·åå’Œå¯†ç 
        const CORRECT_USERNAME = "root";
        const CORRECT_PASSWORD = "Lao82120222";

        function login() {
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;
            const errorElement = document.getElementById("error");

            if (username === CORRECT_USERNAME && password === CORRECT_PASSWORD) {
                document.getElementById("login-box").style.display = "none";
                document.getElementById("file-list").style.display = "block";
                loadFiles(); // åŠ è½½æ–‡ä»¶åˆ—è¡¨
            } else {
                errorElement.textContent = "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼";
            }
        }

        // ä» GitHub ä»“åº“åŠ è½½æ–‡ä»¶åˆ—è¡¨
        function loadFiles() {
            fetch("https://api.github.com/repos/leocker-plus/private-cloud/contents/files")
                .then(response => response.json())
                .then(files => {
                    const fileList = document.getElementById("files");
                    files.forEach(file => {
                        const li = document.createElement("li");
                        const link = document.createElement("a");
                        link.href = file.download_url;
                        link.textContent = file.name;
                        link.target = "_blank";
                        li.appendChild(link);
                        fileList.appendChild(li);
                    });
                })
                .catch(error => {
                    console.error("åŠ è½½æ–‡ä»¶å¤±è´¥:", error);
                });
        }
    </script>
</body>
</html>
